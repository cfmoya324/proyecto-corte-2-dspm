<ion-card>
  <ion-img alt="Silhouette of mountains" src="https://static1.moviewebimages.com/wordpress/wp-content/uploads/2023/01/vat_of_acid_cropped.jpg"></ion-img>
  <ion-card-title>{{episodio.name}}</ion-card-title>
  <ion-card-subtitle>Episodio {{episodio.episode}}</ion-card-subtitle>
  <ion-card-content>
    <ion-button size="large" id="{{modalId + 'p'}}" expand="block">Personajes</ion-button>
  </ion-card-content>
</ion-card>
<ion-modal #modal trigger="{{modalId + 'p'}}" [initialBreakpoint]="0.25" [breakpoints]="[0, 0.25, 0.5, 0.75]">
  <ng-template>
    <ion-content>
      <ion-searchbar placeholder="Buscar personajes" (click)="modal.setCurrentBreakpoint(0.75)"></ion-searchbar>
      <ion-list>
        @for (characterE of episodio.characters; track characterE.id) {
          <ion-item>
            <ion-avatar>
              <img alt="Silhouette of a person's head" src="{{encontrarPersonaje(characterE)?.image || 'https://ionicframework.com/docs/img/demos/thumbnail.svg'}}" />
            </ion-avatar>
            <ion-label><b>{{encontrarPersonaje(characterE)?.name || 'No encontrado'}}</b></ion-label>
            <ion-label>Origen: {{encontrarPersonaje(characterE)?.origin?.name || 'No encontrado'}}</ion-label>
            <ion-label>Última localización: {{encontrarPersonaje(characterE)?.location?.name || 'No encontrado'}}</ion-label>
          </ion-item>
        }
      </ion-list>
    </ion-content>
  </ng-template>
</ion-modal>
